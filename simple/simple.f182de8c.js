var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},n=e.parcelRequireed82;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var o={id:e,exports:{}};return t[e]=o,n.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){r[e]=t},e.parcelRequireed82=n);var o=n("jzg1d"),i=n("83zT6"),a=n("2h9ct"),l=n("lW3AJ"),d=n("wnhPR"),c=n("inIMS"),u=(n("bmHVE"),n("lrKvI")),s=n("c3RIb"),f=n("cJntk");const w=new(0,s.default)({zIndex:10,image:new(0,d.default)({radius:8,fill:new(0,c.default)({color:"white"})})}),p=new(0,s.default)({zIndex:10,image:new(0,d.default)({radius:8,fill:new(0,c.default)({color:"green"})})}),g=new(0,s.default)({zIndex:100,image:new(0,d.default)({radius:8,fill:new(0,c.default)({color:"yellow"})})}),m=new(0,s.default)({zIndex:10,image:new(0,d.default)({radius:8,fill:new(0,c.default)({color:"red"})})}),h=new(0,s.default)({zIndex:10,image:new(0,d.default)({radius:8,fill:new(0,c.default)({color:"#ffffffdd"})}),text:new(0,f.default)({fill:new(0,c.default)({color:"blue"})})}),x=new(0,s.default)({image:new(0,d.default)({radius:5,fill:new(0,c.default)({color:"#ffffffdd"})})}),v={POI:new(0,s.default)({text:new(0,f.default)({font:"20px sans-serif",offsetX:20,textAlign:"left",backgroundFill:new(0,c.default)({color:"#ffffffaa"}),text:"click to delete\ndrag to move POI"})}),cp:new(0,s.default)({text:new(0,f.default)({font:"20px sans-serif",offsetX:20,textAlign:"left",backgroundFill:new(0,c.default)({color:"#ffffffaa"}),text:"click to delete\ndrag to move point"})}),segment:new(0,s.default)({text:new(0,f.default)({backgroundFill:new(0,c.default)({color:"#ffffffaa"}),offsetX:20,textAlign:"left",font:"20px sans-serif",text:"drag to create point"})})},y=new(0,s.default)({stroke:new(0,u.default)({color:"purple",width:6})}),b=new(0,s.default)({stroke:new(0,u.default)({color:"purple",width:3,lineDash:[5,9]})});function k(e,t){const r=e.get("type"),n=e.get("subtype"),o=e.get("index");switch(r){case"sketch":return n?[x,v[n]]:x;case"POI":return g;case"controlPoint":switch(n){case"first":return p;case"last":return m;default:return void 0!==o?(h.getText().setText(o.toString()),h):w}case"segment":return"modifying"===n?b:y;default:return null}}d=n("wnhPR"),c=n("inIMS"),s=n("c3RIb");var S=n("9A3Ac"),E=n("4mWlF"),L=n("71uyY"),P=n("7vCDj");class z extends L.default{constructor(e){const t=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",r=void 0!==e.tileGrid?e.tileGrid:(0,P.createXYZ)({extent:(0,P.extentFromProjection)(t),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});super({attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,opaque:e.opaque,projection:t,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection}),this.gutter_=void 0!==e.gutter?e.gutter:0}getGutter(){return this.gutter_}}var T=z;var j=class extends T{constructor(e){let t;t=void 0!==(e=e||{}).attributions?e.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];const r=void 0!==e.crossOrigin?e.crossOrigin:"anonymous",n=void 0!==e.url?e.url:"https://tile.openstreetmap.org/{z}/{x}/{y}.png";super({attributions:t,attributionsCollapsible:!1,cacheSize:e.cacheSize,crossOrigin:r,interpolate:e.interpolate,maxZoom:void 0!==e.maxZoom?e.maxZoom:19,opaque:void 0===e.opaque||e.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,transition:e.transition,url:n,wrapX:e.wrapX,zDirection:e.zDirection})}},F=n("bdrRp"),I=n("bnthu"),q=n("5DwXE"),R=n("9DiKA"),O=n("dpRHA");u=n("lrKvI"),s=n("c3RIb"),I=n("bnthu"),F=n("bdrRp");const D=new(0,s.default)({stroke:new(0,u.default)({color:"#00cc33aa",width:6})});function X(){const e=new(0,I.default);return new(0,F.default)({source:e,style:D})}function _(e){const t=new(0,I.default),r=new(0,F.default)({source:t,style:k}),n=(0,O.transformExtent)(S.proj.getExtent(),S.default,"EPSG:3857"),o=new(0,R.default)({extent:n,center:(0,O.transform)([2532661,1151654],S.default,"EPSG:3857"),zoom:10}),i=new(0,E.default)({source:new j}),a=X(),l=new(0,q.default)({target:e,view:o,layers:[i,a,r]});return window.mymap=l,{map:l,trackLayer:r,shadowTrackLayer:a}}!function(){const{map:e,trackLayer:t,shadowTrackLayer:r}=_("map"),n=new(0,i.default)({url:"https://graphhopper-all.schweizmobil.ch/route?vehicle=schmwander&type=json&weighting=fastest&elevation=true&way_point_max_distance=0&instructions=false&points_encoded=true",mapProjection:e.getView().getProjection()}),u=new(0,a.FallbackProfiler)({profilers:[new(0,a.ExtractFromSegmentProfiler),new(0,a.SwisstopoProfiler)({projection:e.getView().getProjection()})]});let f=function(e){const t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)};f=void 0;const w=new(0,o.default)({map:e,router:n,profiler:u,trackLayer:t,shadowTrackLayer:r,style:k,deleteCondition:undefined});window.trackManager=w;const p=new(0,l.default)({map:e,profileTarget:"#profile"});w.addTrackChangeEventListener((()=>{const e=w.getSegments();p.refreshProfile(e)})),w.addTrackHoverEventListener((e=>{void 0!==e?p.highlight(e):p.clearHighlight()})),w.mode="edit",document.querySelector("#trackmode").addEventListener("change",(e=>w.mode=e.target.value)),document.querySelector("#snap").addEventListener("click",(()=>{w.snapping=!w.snapping})),document.querySelector("#delete").addEventListener("click",(()=>{w.deleteLastPoint()})),document.querySelector("#clear").addEventListener("click",(()=>{w.clear()})),document.querySelector("#undo").addEventListener("click",(()=>w.undo())),document.querySelector("#redo").addEventListener("click",(()=>w.redo())),document.querySelector("#getTrackData").addEventListener("click",(()=>{w.getTrackFeature();const e=[...w.getControlPoints(),...w.getSegments(),...w.getPOIs()];w.restoreFeatures(e)})),document.querySelector("#reverse").addEventListener("click",(()=>{w.reverse()})),p.setTrackHoverStyle(new(0,s.default)({image:new(0,d.default)({fill:new(0,c.default)({color:"blue"}),radius:9})}))}();
//# sourceMappingURL=simple.f182de8c.js.map
